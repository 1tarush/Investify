<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mutual Fund Calculator — SIP & Lumpsum</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="container">
      <main class="left-panel">
        <header class="app-header">
          <h1>Mutual Fund Calculator</h1>
          <p class="sub">SIP & Lumpsum — estimate growth, returns, and visual breakdown</p>
        </header>

        <section class="controls">
          <div class="mode-toggle">
            <label class="toggle">
              <input type="radio" name="mode" value="sip" id="mode-sip" checked />
              <span>SIP</span>
            </label>
            <label class="toggle">
              <input type="radio" name="mode" value="lumpsum" id="mode-lumpsum" />
              <span>Lumpsum</span>
            </label>
          </div>

          <div class="control-row">
            <label for="amount">Amount (<span id="amount-label">₹1,000</span>)</label>
            <input id="amount" type="range" min="1000" max="500000" step="500" value="10000" />
          </div>

          <div class="control-row">
            <label for="rate">Expected annual return (<span id="rate-label">8%</span>)</label>
            <input id="rate" type="range" min="1" max="30" step="0.1" value="8" />
          </div>

          <div class="control-row">
            <label for="tenure">Tenure in years (<span id="tenure-label">10</span> yrs)</label>
            <input id="tenure" type="range" min="1" max="20" step="1" value="10" />
          </div>

          <div class="actions">
            <button id="calc">Calculate</button>
            <button id="reset" class="muted">Reset</button>
          </div>

          <div class="quick-stats">
            <div><strong>Mode:</strong> <span id="stat-mode">SIP (monthly)</span></div>
            <div><strong>Amount type:</strong> <span id="stat-amount-type">Monthly contribution</span></div>
          </div>
        </section>
      </main>

      <aside class="right-panel">
        <!-- fund detail card (appears when ?fund=slug is present) -->
        <div class="fund-card" id="fundCard" style="display:none;">
          <button id="closeFund" class="muted" style="float:right; margin-top:6px;">Close</button>
          <h3 id="fundTitle">Fund name</h3>
          <canvas id="fundChart" aria-label="Fund performance chart" role="img" style="width:100%;height:360px;display:block;margin:12px 0"></canvas>
          <p id="fundDesc" class="note">Sample performance chart for the selected fund.</p>
          <!-- bullet list showing year-over-year rise/fall in % (populated by script.js) -->
          <ul id="fundChanges" class="note fund-changes" aria-live="polite"></ul>
        </div>

        <div class="result-card">

          <div class="square-box" aria-hidden="false">
            <!-- 5x5 grid decorative box, center will hold text output -->
            <div class="grid-5x5" id="gridBox">
              <!-- 25 cells will be generated by CSS/JS (static in HTML for simpler structure) -->
              <div class="cell"></div>
              <div class="cell"></div>
              <div class="cell"></div>
              <div class="cell"></div>
              <div class="cell"></div>

              <div class="cell"></div>
              <div class="cell"></div>
              <div class="cell"></div>
              <div class="cell"></div>
              <div class="cell"></div>

              <div class="cell"></div>
              <div class="cell center-cell">
                <div class="chart-wrapper">
                  <canvas id="resultChart" class="inbox-chart" aria-label="Invested vs Returns chart" role="img"></canvas>
                </div>
              </div>
              <div class="cell"></div>
              <div class="cell"></div>

              <div class="cell"></div>
              <div class="cell"></div>
              <div class="cell"></div>
              <div class="cell"></div>
              <div class="cell"></div>
            </div>
          </div>
          <p class="note">Results shown for the selected mode. SIP uses monthly contributions.</p>
          <!-- detailed summary with consistent styling -->
          <div class="value-breakdown">
            <div class="breakdown-row">
              <span class="breakdown-label">Invested Amount</span>
              <span class="breakdown-value" id="simple-invested">₹0</span>
            </div>
            <div class="breakdown-row">
              <span class="breakdown-label">Returns</span>
              <span class="breakdown-value" id="simple-returns">₹0</span>
            </div>
            <div class="breakdown-row total">
              <span class="breakdown-label">Total Value</span>
              <span class="breakdown-value" id="simple-total">₹0</span>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <script src="script.js" defer></script>
  </body>
</html>
